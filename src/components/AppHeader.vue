<template>
  <div class="header">
    <div class="header__info">
      <a href="javascript:void(0)" @click="goToProfile">
        <div class="header__info-photo">
          <img
            v-if="userStore.profileImageUrl"
            :src="userStore.profileImageUrl"
            alt="Profile Photo"
            class="profile-photo"
          />
          <div v-else class="profile-photo-placeholder">ğŸ‘¤</div>
        </div>

        <span>{{ userStore.name }}</span>
      </a>
    </div>
    <div class="header__right">
      <button class="btn-logout" @click="logout">ë¡œê·¸ì•„ì›ƒ</button>
    </div>
  </div>
</template>
  
  <script setup>
import { useRouter } from "vue-router";
import { useUserStore } from "@/store/user"; // ìŠ¤í† ì–´ ê²½ë¡œì— ë§ì¶° ìˆ˜ì •

const router = useRouter();
const userStore = useUserStore();

// ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
const logout = () => {
  userStore.clearUser(); // Pinia ìŠ¤í† ì–´ì˜ clearUser ì•¡ì…˜ í˜¸ì¶œ (ë¡œê·¸ì¸ ìƒíƒœ ë° ì‚¬ìš©ì ì •ë³´ ì´ˆê¸°í™”)
  router.push("/"); // ìŠ¤í”Œë˜ì‹œ í™”ë©´ìœ¼ë¡œ ì´ë™
};

const goToProfile = () => {
  // Vue Routerì˜ push ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì •ëœ ê²½ë¡œ('/profile')ë¡œ ì´ë™í•©ë‹ˆë‹¤.
  // ì´ ê²½ë¡œëŠ” src/router/index.jsì— ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
  router.push("/profile"); // <-- '/profile' ê²½ë¡œë¡œ ì´ë™
  console.log("í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™ ìš”ì²­"); // ë””ë²„ê¹…ìš© ë¡œê·¸ (ì„ íƒ ì‚¬í•­)
};
</script>
  